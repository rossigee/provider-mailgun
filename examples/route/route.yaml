apiVersion: route.mailgun.m.crossplane.io/v1beta1
kind: Route
metadata:
  namespace: default
  name: support-route
spec:
  forProvider:
    priority: 10
    description: Forward support emails to helpdesk
    expression: match_recipient("support@.*")
    actions:
    - type: forward
      destination: helpdesk@example.org
    - type: store
  providerConfigRef:
    name: default
---
apiVersion: route.mailgun.m.crossplane.io/v1beta1
kind: Route
metadata:
  namespace: default
  name: catch-all-route
spec:
  forProvider:
    priority: 100
    description: Catch all other emails and store them
    expression: catch_all()
    actions:
    - type: store
    - type: stop
  providerConfigRef:
    name: default
